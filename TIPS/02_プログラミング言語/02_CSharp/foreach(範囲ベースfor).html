<!DOCTYPE html>

<!-- 基準URI -->
<base href="https://takaha-q.github.io/">

<!-- スタイルシート -->
<link rel="stylesheet" href="Sytle001.css" type="text/css">

<!-- スクリプト -->
<!-- タイトル表示 -->
<script src="MakeTitle.js" type="text/javascript"></script>

<!-- 目次表示 -->
<script src="MakeToc_L.js" type="text/javascript"></script>

<!-- ページタイトル(ページ内表示) -->
<span id="title"></span>

<!-- リンク(ホームに戻る) -->
<a href="index.html">ホームに戻る</a>

<!-- 出典ページ -->
<details><summary class=link>出典 :</summary>
<div class=pre><a href="https://www.sejuku.net/blog/41892">【C#入門】foreachの使い方(break、continueでの制御も解説) | 侍エンジニアブログ</a>
<a href="https://programming.pc-note.net/csharp/foreach.html">foreach文(C#) - 超初心者向けプログラミング入門</a>
<a href="https://learn.microsoft.com/ja-jp/troubleshoot/developer/visualstudio/csharp/language-compilers/make-class-foreach-statement">foreach ステートメントでクラスを使用可能にする - C# | Microsoft Learn</a>
<a href="https://qiita.com/Marimoiro/items/bf560d7406511380d7b6">そのforeach本当に要りますか？～for/foreach等をLINQに書き換える～ - Qiita</a>
</div></details>

<!-- 関連ページ -->
<details><summary class=link>関連 :</summary>
<div class=pre><a href="TIPS/03_フレームワーク/01_dotNET/01_型・クラス/コレクション.html">[.NET]コレクション</a>
<a href="TIPS/02_プログラミング言語/01_C・C%2B%2B/範囲ベースfor.html">[C++]範囲ベースfor</a>
</div></details>

<!-- 目次 -->
<h5>目次 :</h5>
<div id="toc"></div>
<hr>

<!-- 本文ここから -->
<h2>foreach() 文</h2>
コレクションの全要素に対して繰り返し処理を行う制御構文。

<div class="code">
<kwd>using</kwd> <knw>System</knw>;
 
<kwd>namespace</kwd> Sample
{
    <kwd>class</kwd> Sample
    {
        <kwd>static void</kwd> Main()
        {
            <cmt>// コレクション(配列)の宣言、初期化</cmt>
            <kwd>char</kwd>[] src = <kwd>new char</kwd>[5]{'a', 'b', 'c', 'd', 'e'};
            <cmt>// foreach 文で src の全要素を走査</cmt>
            <kwd>foreach</kwd>( <kwd>var</kwd> chr <kwd>in</kwd> src )
            {
                <knw>Console</knw>.WriteLine( $"{chr}" );
            }
        }
    }
}
</div>
<b>実行結果 :</b>
<div class="code">
a
b
c
d
e
</div>
上記は foreach の基本的な例である。<br>
コレクション src の先頭要素が一時変数 chr に格納され、処理を実行すると次の要素…というように、<br>
コレクションの全要素に対して共通の処理が実行される。<br>
for ループと異なり、インデクスの指定や加算、終了判定が必要なく、確実にコレクションの全要素を走査することができる。<br>
また、一時変数は var による型推論を使用できる。

<h2>foreach における制限</h2>
<div class=pre>
コレクションの要素が値型(数値型および構造体)の場合、foreach 節内で要素の値を書き換えることは不可能である。
その場合は for や while 、または<a href="TIPS/02_プログラミング言語/02_CSharp/LINQ (Language Integrated Query).html">LINQ</a>による写像を用いるとよい。
</div>

<div class="code">
<kwd>static void</kwd> Main()
{
    <kwd>char</kwd>[] src = <kwd>new char</kwd>[5]{'a', 'b', 'c', 'd', 'e'};
    <cmt>// foreach 文で src の全要素を走査</cmt>
    <kwd>foreach</kwd>( <kwd>char</kwd> chr <kwd>in</kwd> src )
    {
        <cmt>// この文はエラーとなる</cmt>
        chr = 's';
    }
}
</div>

