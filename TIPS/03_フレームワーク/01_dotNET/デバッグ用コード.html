<!DOCTYPE html>
<!-- 基準URI -->
<base href="https://takaha-q.github.io/">
<!-- スタイルシート -->
<link rel="stylesheet" href="Sytle001.css" type="text/css">
<!-- スクリプト -->
<!-- タイトル表示 -->
<script src="MakeTitle.js" type="text/javascript"></script>
<!-- 目次表示 -->
<script src="MakeToc_L.js" type="text/javascript"></script>
<!-- ページタイトル(ページ内表示) -->
<span id="title"></span>
<!-- リンク(ホームに戻る) -->
<a href="index.html">ホームに戻る</a>
<!-- 出典・関連ページ -->
<details><summary class=link>出典 :</summary>
<div class=pre><a href="https://dobon.net/vb/dotnet/programing/define.html">デバッグビルドでのみ特定のコードがコンパイルされるようにする - .NET Tips (VB.NET,C#...)</a>

</div>
</details>

<!-- 関連ページ -->
<details><summary class=link>関連 :</summary>
<div class=pre><a href="TIPS/02_プログラミング言語/01_C・C%2B%2B/プリプロセッサディレクティブ.html">[C++]プリプロセッサディレクティブ</a>


</div>
</details>

<!-- 目次 -->
<h5>目次 :</h5>
<div id="toc"></div>
<hr>
<!-- 本文ここから -->
デバッグ(またはリリース)ビルドでのみ有効な(コンパイルされる)コードを記述する際の手順。

<h2>準備</h2>
プロジェクトのプロパティを開き、「ビルド」タブから <b>DEBUG / TRACE</b> 定数の定義の有無を切り替える。<br>
<img src="https://raw.githubusercontent.com/Takaha-Q/Takaha-Q.github.io/main/_Img/MSVS_DotNet_CSharp/CSharp_DebugCode/CSharp_DebugCode_01.png">

<h2>デバッグコードの実装</h2>
<b>DEBUG</b> 定数が定義されている場合のみ有効なコードの記述例 :
<div class="code">
<kwd>#if</kwd> DEBUG
    Console.WriteLine("デバッグビルド");
<kwd>#endif</kwd>
</div>

<h2>条件付きコンパイル</h2>
C#における <b class="blue">#if</b> はC/C++の <b class="blue">#ifdef</b> に相当。

<div class="code">
<kwd>#if</kwd> DEBUG
    Console.WriteLine("DEBUGが定義されている");
<kwd>#elif</kwd> TRACE
    Console.WriteLine("TRACEが定義されている");
<kwd>#else</kwd>
    Console.WriteLine("どちらも定義されていない");
<kwd>#endif</kwd>
</div>

条件付きコンパイルディレクティブの比較<br>
<table>
	<tr class="row1">
		<td>C/C++</td>
		<td>C#</td>
		<td>VB</td>
	</tr>
	<tr class="blue">
		<td>#ifdef<br>#if defined</td>
		<td>#if</td>
		<td>#If</td>
	</tr>
	<tr class="blue">
		<td>#elif defined</td>
		<td>#elif</td>
		<td>#ElseIf</td>
	</tr>
	<tr class="blue">
		<td>#else</td>
		<td>#else</td>
		<td>#Else</td>
	</tr>
	<tr class="blue">
		<td>#endif</td>
		<td>#endif</td>
		<td>#End If</td>
	</tr>
</table>

