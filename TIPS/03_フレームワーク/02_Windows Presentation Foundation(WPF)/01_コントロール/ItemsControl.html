<!DOCTYPE html>

<!-- 基準URI -->
<base href="https://takaha-q.github.io/">

<!-- スタイルシート -->
<link rel="stylesheet" href="Sytle001.css" type="text/css">

<!-- スクリプト -->
<!-- タイトル表示 -->
<script src="MakeTitle.js" type="text/javascript"></script>

<!-- 目次表示 -->
<script src="MakeToc_L.js" type="text/javascript"></script>

<!-- ページタイトル(ページ内表示) -->
<span id="title"></span>

<!-- リンク(ホームに戻る) -->
<a href="index.html">ホームに戻る</a>

<!-- 出典 -->
<details><summary class=link>出典 :</summary>
<div class=pre><a href="https://learn.microsoft.com/ja-jp/dotnet/api/system.windows.controls.itemscontrol?view=windowsdesktop-8.0">ItemsControl クラス (System.Windows.Controls) | Microsoft Learn</a>
    <a href="https://learn.microsoft.com/ja-jp/uwp/api/windows.ui.xaml.controls.panel.isitemshost?view=winrt-26100">Panel.IsItemsHost プロパティ (Windows.UI.Xaml.Controls) - Windows UWP applications | Microsoft Learn</a>
    <a href="https://qiita.com/ebipilaf/items/c3e9e501eb0560a12ce8">【WPF】ItemsControlの基本的な使い方 #C# - Qiita</a>
    <a href="https://nomoredeathmarch.hatenablog.com/entry/2019/01/21/003825">WPF ItemsControlをDataGridみたいに使う - No more Death March</a>
</div></details>

<!-- 関連 -->
<details><summary class=link>関連 :</summary>
<div class=pre><a href="TIPS/03_フレームワーク/01_dotNET/01_型・クラス/コレクション.html">コレクション</a>
    <a href="TIPS/03_フレームワーク/02_Windows Presentation Foundation(WPF)/ControlTemplate.html">ControlTemplate</a>
    <a href="TIPS/03_フレームワーク/02_Windows Presentation Foundation(WPF)/DataTemplate.html">DataTemplate</a>
</div></details>

<!-- 目次 -->
<h5>目次 :</h5>
<div id="toc"></div>
<hr>

<!-- 本文ここから -->

<h2>ItemsControl ( System.Windows.Controls.ItemsControl )</h2>
コレクションの一覧を表示することができるコントロール。柔軟性が高く、多様なカスタマイズが可能である。

<h3>他のコントロールとの関係</h3>
<div class=pre>ItemsControl は DataGrid 、ListBox 、ComboBox の基底クラスであり、コレクションを取り扱う点で共通している。
    通常、ListBox や ComboBox はコレクションを一次元に、DataGrid は二次元に展開するが、ItemsControl はそのいずれもが可能で汎用性が高い。
    ( ListBox や ComboBox でも表示形式を指定することでコレクションを二次元に展開することができる。)
    また DataGrid は個々のマスをオブジェクト化するため、大量のデータを取り扱うと処理負荷が増大するが、ItemsControl は比較的軽量である。
</div>

<h2>例1 : Template と ItemTemplate を指定</h2>

<h6>Model : Person.cs</h6>
<div class=pre>コンストラクタは省略。
    <img src="https://raw.githubusercontent.com/Takaha-Q/Takaha-Q.github.io/main/_Img\WPF\ItemsControl\01.png" alt="画像">
</div>

<h6>ViewModel : ViewModel.cs</h6>
<div class=pre>コンストラクタは省略。
    <img src="https://raw.githubusercontent.com/Takaha-Q/Takaha-Q.github.io/main/_Img\WPF\ItemsControl\02.png" alt="画像">
</div>

<h6>View : MainWindow.xaml</h6>
<div class=pre><img src="https://raw.githubusercontent.com/Takaha-Q/Takaha-Q.github.io/main/_Img\WPF\ItemsControl\03.png" alt="画像">
</div>

<h6>実際の表示</h6>
<div class=pre><img src="https://raw.githubusercontent.com/Takaha-Q/Takaha-Q.github.io/main/_Img\WPF\ItemsControl\04.png" alt="画像">
</div>

<h6>解説</h6>
<div class=pre>ItemsControl は ListBox や DataGrid などの派生コントロールと異なり、項目を表示するための土台や各行(項目)の表示方法を明示的に指定する必要がある。
(デフォルトの表示形式が規定されていない。)
ここでは ItemsControl.Template に土台( ContentTemplate )を、ItemsControl.ItemTemplate に各行の表示形式( DataTemplate )を指定している。
</div>

<h2>例2 : Template と ItemTemplate を指定</h2>

<h6>View : ####.xaml (抜粋)</h6>
<div class=pre><img src="https://raw.githubusercontent.com/Takaha-Q/Takaha-Q.github.io/main/_Img\WPF\ItemsControl\05.png" alt="画像">
</div>

<h6>実際の表示</h6>
<div class=pre><img src="https://raw.githubusercontent.com/Takaha-Q/Takaha-Q.github.io/main/_Img\WPF\ItemsControl\06.png" alt="画像">
</div>

<h6>解説</h6>
<div class=pre>表形式( Rows 行 Cols 列)での表示。例1とは異なり ItemsControl.Template は指定せず、ItemsControl.ItemsPanel.ItemsPanelTemplate を指定している。
    ここで ItemsSource は1次元配列であり、総要素数は Rows × Cols である。表示例のように行方向に Cols 個の要素を並べたら折り返す。
</div>

